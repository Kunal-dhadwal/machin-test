import{r as s,T as a,j as e,A as x}from"./index-CFHMJ-zO.js";const d=({task:t})=>{const{addTask:r,updateTask:o}=s.useContext(a),[n,c]=s.useState({title:t?t.title:"",description:t?t==null?void 0:t.description:"",status:t?t==null?void 0:t.status:"pending"}),l=i=>{c({...n,[i.target.name]:i.target.value})},u=i=>{i.preventDefault(),t?o(t._id,n):r(n)};return e.jsxs("form",{onSubmit:u,children:[e.jsx("input",{type:"text",name:"title",value:n.title,onChange:l,placeholder:"Task Title",required:!0}),e.jsx("textarea",{name:"description",value:n.description,onChange:l,placeholder:"Task Description"}),e.jsxs("select",{name:"status",value:n.status,onChange:l,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsx("button",{type:"submit",children:t?"Update Task":"Add Task"})]})},p=()=>{const{tasks:t,getTasks:r,deleteTask:o}=s.useContext(a);return s.useEffect(()=>{r()},[]),e.jsxs("div",{children:[e.jsx("h2",{children:"Your Tasks"}),e.jsx(d,{}),e.jsx("ul",{children:t.map(n=>e.jsxs("li",{children:[e.jsx("h3",{children:n.title}),e.jsx("p",{children:n.description}),e.jsxs("p",{children:["Status: ",n.status]}),e.jsx("button",{onClick:()=>o(n._id),children:"Delete"}),e.jsx(d,{task:n})]},n._id))})]})},j=()=>{const{logout:t}=s.useContext(x);return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h1",{children:"Task Manager"}),e.jsx("button",{onClick:t,style:{padding:"10px 20px",cursor:"pointer"},children:"Logout"})]}),e.jsx(p,{})]})};export{j as default};
